var a_facebook = {
	
	wall_length: 0,
	
	profile_length: 0,
	
	listener_func: null,
	
	u1: null,
	
	lang: {
		post_placeholder: 'Type your anonymous post...',
		post_add: 'Send'
	},
		
	create: function(){
				
		this.initPage();
		this.livePostingNote();
		this.updateAnswerContent();
		this.changeUrlListener();
		
		this.updateU1();
		
		//
		
		// this.importCSS();
		
	},
	
	initPage: function(){
	
		var container = this.recognizePageType();
				
		clearInterval(a_facebook.listener_func);
		
		//
		 
		if(container=='wall'){
		
			this.insertWallFrame();
			
			this.listenWallLength();
					
		} else if(container=='profile'){

			this.insertProfileFrame();
			
			this.listenProfilePostLength();

		} else if(container=='photo'){
			
			this.insertPhotoFrame();
			
		}
		else{
	//	this.insert();
		this.insert_note()
		}//	alert(1);
		
	},
	insert_note:function()
	{ 
	    this.listener_func = setInterval(function(){
		    elements=document.getElementsByClassName('uiUfi UFIContainer _6mv')
	    var b=elements[0].getElementsByClassName('afb-comments fb-comments-post');
			//alert(b.length);
		    if(b.length==0)
			{
		    ele=document.getElementsByName('feedback_params');
		    mydata=JSON.parse(ele[0].value);
		    var post_id=mydata['target_fbid'];
		    name1='rate1';
		    name2='rate2';
		    name3='rate3';
		    name4='rate4';
		    name5='rate5';
		    elements[0].innerHTML+='<p>Please rate the article</p>';
			elements[0].innerHTML+='<div class="rate_widget"><div class="star_1 ratings_stars"'+'id= "'+name1+'"></div><div class="star_2 ratings_stars"'+'id= "'+name2+'"></div><div class="star_3 ratings_stars"'+'id= "'+name3+'"></div><div class="star_4 ratings_stars"' +'id= "'+name4+'"></div><div class="star_5 ratings_stars"'+'id= "'+name5+'"></div></div>';
			elements[0].innerHTML+=a_facebook.addPosttoPage({post_id:post_id});
			}
			
		},1000);
	 
	},	


	addPosttoPage: function(data)
	{
		var question=new Array(3)
		question[0]="Whats your comment regarding the posters' grammar and typos";
		question[1]="Quesion2";
		question[2]="Quesion3";
		

		var default_data = {
			post_id: null
		};
		data = jQuery.extend(default_data, data);
	//	alert(data['post_id'])
		if(data['post_id']==null)
		    return '';
	//	data['post_id']=1;
		
		
		return '<div class="afb-comments fb-comments-post' + '" data-post-id="' +data['post_id']+'"><div class="afb-comments-list"></div><div class="afb-comment-add"><textarea  style="width:500px;overflow-y:visible;overflow:hidden" id="ans1" placeholder="'+question[0]+'"></textarea><textarea style="width:500px;overflow-y:visible" id="ans2" placeholder="'+question[1]+'"></textarea><textarea style="width:500px;overflow-y:visible" id="ans3" placeholder="'+question[2]+'"></textarea><label class="uiButton uiButtonConfirm input-submit"><input tyPE="BUTTON" VALUE="' + 'SEND' + '"></LABEL></DIV></DIV>';
	
	},
	LIVEPOSTINGNOTE :FUNCTION()
	{
	
	SETINTERVAL(FUNCTION(){
	
	B=DOCUMENT.GETELEMENTSBYCLASSNAME('INPUT-SUBMIT');
	EXIST_BUTTON=B[0];
	EXIST_BUTTON.ONCLICK=FUNCTION(){A_FACEBOOK.POSTANSWER();}; 
	    },1000);
	},
	
	POSTANSWER:FUNCTION()
	{
		ANS1=DOCUMENT.GETELEMENTBYID("ANS1")
		ANS2=DOCUMENT.GETELEMENTBYID("ANS2")
		ANS3=DOCUMENT.GETELEMENTBYID("ANS3")
		ELE=DOCUMENT.GETELEMENTSBYNAME('FEEDBACK_PARAMS');
		MYDATA=JSON.PARSE(ELE[0].VALUE);
		VAR POST_ID=MYDATA['TARGET_FBID'];
	//	CONSOLE.LOG(ANS1.VALUE)
		
		VAR QUESTION=NEW ARRAY(3)
		QUESTION[0]="WHATS YOUR COMMENT REGARDING THE POSTERS' GRAMMAR AND TYPOS";
		QUESTION[1]="QUESION2";
		QUESTION[2]="QUESION3";
		IF(POST_ID==NULL)
		{
	    	ELEMENT=DOCUMENT.GETELEMENTSBYCLASSNAME('AFB-COMMENTS');
			POST_ID=ELEMENT[0].ATTRIBUTES['DATA-POST-ID'];
		}
    
        VAR DATA=
	{
	    ANSWER1:"",
	    ANSWER2:"",
	    ANSWER3:"",
	    POST_ID:1
	};
		  VAR DATA_TYPE={
	    MESSAGE:"",
	    POST_ID:1
	};
		DATA.ANSWER1=ANS1.VALUE;
		DATA.ANSWER2=ANS2.VALUE;
		DATA.ANSWER3=ANS3.VALUE;
		DATA.POST_ID=POST_ID;
		DATA_TYPE.MESSAGE=ANS1.VALUE+"@"+ANS2.VALUE+"@"+ANS3.VALUE;
		DATA_TYPE.POST_ID=POST_ID;
	//	CONSOLE.LOG(DATA.ANSWER1)
	//	CONSOLE.LOG(DATA.ANSWER2)
//		CONSOLE.LOG(DATA.ANSWER3)
	//	CONSOLE.LOG(DATA.POST_ID)
	//	CONSOLE.LOG(DATA)
		IF(ANS1.VALUE=="" || ANS2.VALUE==""&& ANS3.VALUE=="")
		{
			//ALERT("PLEASE FINISH ALL QUESTIONS")
			RETURN;
		}
		
		ELSE IF(ANS1.VALUE==QUESTION[0]||ANS1.VALUE=="")
		{
			ALERT("PLEASE FINISH QUESTION1")
			RETURN;
		}
		ELSE IF(ANS2.VALUE==QUESTION[1]||ANS2.VALUE=="")
		{
			ALERT("PLEASE FINISH QUESTION2")
			RETURN;
		}
		
		ELSE IF(ANS3.VALUE==QUESTION[2]||ANS3.VALUE=="")
		{
			ALERT("PLEASE FINISH QUESTION3")
			RETURN;
		}
		
		
				VAR TEXT_FIELD0=DOCUMENT.CREATEELEMENT("P");
				TEXT_FIELD0.INNERHTML="ANONYMOUS: ";
				A=DOCUMENT.GETELEMENTSBYCLASSNAME('UFILIST')
				
				A[0].APPENDCHILD(TEXT_FIELD0);
				VAR NEWDIV=DOCUMENT.CREATEELEMENT('DIV');
				NEWDIV.SETATTRIBUTE('CLASS', 'TEXTFIELD');
				
				VAR TEXT_FIELD1=DOCUMENT.CREATEELEMENT("P");
				TEXT_FIELD1.INNERHTML="ANSWER FOR QUESTION1: "+ANS1.VALUE;
				VAR TEXT_FIELD2=DOCUMENT.CREATEELEMENT("P");	   
				TEXT_FIELD2.INNERHTML="ANSWER FOR QUESTION2: "+ANS2.VALUE;
				VAR TEXT_FIELD3=DOCUMENT.CREATEELEMENT("P");   
				TEXT_FIELD3.INNERHTML="ANSWER FOR QUESTION3: "+ANS3.VALUE;
				
				NEWDIV.APPENDCHILD(TEXT_FIELD1);
				NEWDIV.APPENDCHILD(TEXT_FIELD2);
				NEWDIV.APPENDCHILD(TEXT_FIELD3);
				A[0].APPENDCHILD(NEWDIV)
	
	ANS1.VALUE="";
	ANS2.VALUE="";
	ANS3.VALUE="";
	//CONSOLE.LOG(DATA);
	
	
	A_FACEBOOK.ADDANSWERTODB(DATA)
	},
	ADDANSWERTODB: FUNCTION(DATA){
				
	//	  CONSOLE.LOG(DATA['MESSAGE']);
    //CONSOLE.LOG(DATA['POST_ID']);
    CONSOLE.LOG(DATA);
    $.POST( "HTTP://ANONYMOUS.COMZE.COM/TEST1.PHP", 
{ANSWER1:DATA['ANSWER1'],ANSWER2:DATA['ANSWER2'],ANSWER3:DATA['ANSWER3'],POST_ID:DATA['POST_ID']});

	},
	UPDATEANSWERCONTENT : FUNCTION()
	{
			ELE=DOCUMENT.GETELEMENTSBYNAME('FEEDBACK_PARAMS');
		    MYDATA=JSON.PARSE(ELE[0].VALUE);
		    VAR POST_ID=MYDATA['TARGET_FBID'];
 $.POST( "HTTP://ANONYMOUS.COMZE.COM/GETPOST.PHP",{POST_ID:POST_ID},FUNCTION(DATA1)
			 {	
				 A_FACEBOOK.ADDANSWERTOHTML(DATA1);
			});
			},
	
	ADDANSWERTOHTML:FUNCTION(DATA1)
	{
	
  //ALERT(POST_ARRAY);
    VAR I=0;
    VAR ARRAY=NEW ARRAY();
    VAR OBJECT=NEW ARRAY();
    VAR DATA="";
    VAR FLAG=0;
    FOR(I=0;I<DATA1.LENGTH;I++)
	{
	    IF(FLAG==1)
		{
		       
		    IF(DATA1[I]=='}')
			{
			    DATA+=DATA1[I];
			    ARRAY.PUSH(DATA);
			    //    ALERT(DATA);
			    DATA='';
			    //ALERT(DATA)
			    FLAG=0;
			    CONTINUE;
			}
		    DATA+=DATA1[I];
		        
		}

	    IF(DATA1[I]=='{')
		{
		    DATA+=DATA1[I];
		    FLAG=1;
		}

	}
    CONSOLE.LOG(DATA1)
    FOR(I=0;I<ARRAY.LENGTH;I++)
	{
	    VAR TEMP=JSON.PARSE(ARRAY[I]);
	    OBJECT.PUSH(TEMP);
	}
	
	
		
		
		
    FOR(I=0;I<OBJECT.LENGTH;I++)
	{
		CONSOLE.LOG(OBJECT[I])
		ELE=DOCUMENT.GETELEMENTSBYNAME('FEEDBACK_PARAMS');
		MYDATA=JSON.PARSE(ELE[0].VALUE);
		VAR POST_ID=MYDATA['TARGET_FBID'];
	   
		    IF(OBJECT[I].POST_ID==POST_ID)
			{
			
			
				VAR TEXT_FIELD0=DOCUMENT.CREATEELEMENT("P");
				TEXT_FIELD0.INNERHTML="ANONYMOUS: ";
				A=DOCUMENT.GETELEMENTSBYCLASSNAME('UFILIST')
				
				A[0].APPENDCHILD(TEXT_FIELD0);
				VAR NEWDIV=DOCUMENT.CREATEELEMENT('DIV');
				NEWDIV.SETATTRIBUTE('CLASS', 'TEXTFIELD');
				
				VAR TEXT_FIELD1=DOCUMENT.CREATEELEMENT("P");
				TEXT_FIELD1.INNERHTML="ANSWER FOR QUESTION1: "+OBJECT[I].ANSWER1;
				VAR TEXT_FIELD2=DOCUMENT.CREATEELEMENT("P");	   
				TEXT_FIELD2.INNERHTML="ANSWER FOR QUESTION2: "+OBJECT[I].ANSWER2;
				VAR TEXT_FIELD3=DOCUMENT.CREATEELEMENT("P");   
				TEXT_FIELD3.INNERHTML="ANSWER FOR QUESTION3: "+OBJECT[I].ANSWER3;
				
				NEWDIV.APPENDCHILD(TEXT_FIELD1);
				NEWDIV.APPENDCHILD(TEXT_FIELD2);
				NEWDIV.APPENDCHILD(TEXT_FIELD3);
				A[0].APPENDCHILD(NEWDIV)

			}
		}
	
    

	
	},
	

	
	UPDATEU1: FUNCTION(){
		
		VAR U1 = $("#PAGENAV .HEADERTINYMANPHOTO:EQ(0)").ATTR('ID');
		
		IF(!U1) RETURN FALSE;
		
		U1 = U1.REPLACE('PROFILE_PIC_HEADER_', '') * 1;
		
		THIS.U1 = U1;	
		
	},
	
	RECOGNIZEPAGETYPE: FUNCTION(){
		
		VAR TYPE = NULL;
		
		IF(LOCATION.HREF.MATCH(/PHOTO\.PHP/I)){
		    
			TYPE = 'PHOTO';
			
		} ELSE IF(JQUERY('._5UCH _5JMM _5PAT').LENGTH){
		    ALERT(2);
			TYPE = 'WALL';
			
		} ELSE IF(JQUERY('.FBTIMELINEUNIT').LENGTH){
		    // ALERT(4);
			TYPE = 'PROFILE';
			
		}
		
		RETURN TYPE;
		
	},
	
	CHANGEURLLISTENER: FUNCTION(){
		
		VAR STORED_URL = WINDOW.LOCATION.HREF;
		
		SETINTERVAL(FUNCTION () {

			IF (LOCATION.HREF != STORED_URL) {
				STORED_URL = LOCATION.HREF;
				A_FACEBOOK.CHANGEURL();
				
			}
		}, 500);
		
	},
	
	CHANGEURL: FUNCTION(){
		
		VAR PAGE_TYPE = THIS.RECOGNIZEPAGETYPE();
				
		IF(PAGE_TYPE=='PHOTO'){
			
			THIS.INSERTPHOTOFRAME();
			
		}
		
	},
	
	POSTIDBYFEEDBACKPARAMS: FUNCTION($CONTAINER){
		
		VAR FEEDBACK_PARAMS = $CONTAINER.FIND("INPUT[NAME='FEEDBACK_PARAMS']").VAL();
				
		FEEDBACK_PARAMS = JQUERY.PARSEJSON(FEEDBACK_PARAMS);
				
		IF(!FEEDBACK_PARAMS || !FEEDBACK_PARAMS['TARGET_FBID']){
					
			RETURN FALSE;
					
		}
				
		RETURN FEEDBACK_PARAMS['TARGET_FBID'] * 1;
		
	},
	
	/* CONTAINER PHOTO */
	
	INSERTPHOTOFRAME: FUNCTION(){
		
		VAR PHOTO_TYPE = 'POPUP';
		
		IF(JQUERY('.FBPHOTOUFICOL .PHOTOUFICONTAINER').LENGTH){
			
			VAR PHOTO_TYPE = 'PAGE';
			
		}
				
		IF(PHOTO_TYPE=='PAGE'){

			JQUERY('.FBPHOTOUFICOL .AFB-COMMENTS').REMOVE();
			
			//
			
			VAR $CONTAINER = JQUERY('.FBPHOTOUFICOL .PHOTOUFICONTAINER');
																	
			//
										
			VAR POST_ID = THIS.POSTIDBYFEEDBACKPARAMS($CONTAINER);
						
			IF(!POST_ID){
				
				RETURN FALSE;
				
			}
			
			//
			
			$CONTAINER.AFTER(A_FACEBOOK.ADDPOSTCONTAINERHTML({POST_ID: POST_ID}));
			
			THIS.UPDATEPOSTCONTENT([POST_ID]);
						
		} ELSE IF(PHOTO_TYPE=='POPUP'){
			
			VAR $POPUP = JQUERY('.FBPHOTOSSNOWBOXFEEDBACKINPUT .UFILIST');
			
			IF($POPUP.LENGTH || !$POPUP.PROP('DATA-AFACEBOOK-STATUS')){
										
				$POPUP.PROP('DATA-AFACEBOOK-STATUS', TRUE)			
				
				$POPUP.FIND('.AFB-COMMENTS-PHOTO').REMOVE();
							
				// $POPUP.AFTER();
								
				VAR POST_ID = THIS.POSTIDBYFEEDBACKPARAMS($POPUP.PARENT());
				
				//
								
				$POPUP.APPEND('<LI CLASS="AFB-COMMENTS-PHOTO">' + A_FACEBOOK.ADDPOSTCONTAINERHTML({POST_ID: POST_ID}) + '</LI>');	
				
				//
				
				THIS.UPDATEPOSTCONTENT([POST_ID]);
				
			}
			
		}
		
	},
	
	/* CONTAINER PROFILE */
	
	INSERTPROFILEFRAME: FUNCTION(){
		
		VAR UPDATE_POST = [];
		
		JQUERY('.FBTIMELINEUNIT').EACH(FUNCTION(){
			
			VAR $THIS = JQUERY(THIS);
			
			IF($THIS.PROP('DATA-AFACEBOOK-STATUS')){
				
				RETURN TRUE;
				
			}
			
			$THIS.PROP('DATA-AFACEBOOK-STATUS', TRUE);
			
			//
			
			VAR POST_ID = A_FACEBOOK.POSTIDBYFEEDBACKPARAMS($THIS);
			
			/*
			
			//
			
			
			VAR SHARE_HREF = $THIS.FIND('.SHARE_ACTION_LINK').ATTR('HREF');
			
			IF(SHARE_HREF){
				
				SHARE_HREF_MATCH = SHARE_HREF.MATCH(/P\%5B1\%5D\=(.*)/I);
				
				IF(SHARE_HREF_MATCH[1]){
					
					POST_ID = SHARE_HREF_MATCH[1] * 1;
					
				}
				
			}
			
			*/
			
			IF(!POST_ID){
				
				RETURN TRUE;
				
			}
			
			UPDATE_POST.PUSH(POST_ID);
			
			//
			
			$THIS.FIND('.UFICONTAINER').APPEND(A_FACEBOOK.ADDPOSTCONTAINERHTML({POST_ID: POST_ID}));	
				
		});
		
		THIS.UPDATEPOSTCONTENT(UPDATE_POST);
				
	},
	
	LISTENPROFILEPOSTLENGTH: FUNCTION(){
		
		THIS.LISTENER_FUNC = SETINTERVAL(FUNCTION(){
			
			VAR PROFILE_POST_LENGTH = JQUERY('.FBTIMELINEUNIT').LENGTH;
			
			IF(PROFILE_POST_LENGTH > A_FACEBOOK.PROFILE_LENGTH){
				
				A_FACEBOOK.PROFILE_LENGTH = PROFILE_POST_LENGTH;
				
				A_FACEBOOK.INSERTPROFILEFRAME();
				
			}
			
		}, 1000);
		
	},
	
	/* CONTAINER WALL */
		
	ADDPOST: FUNCTION(DATA){

		VAR DEFAULT_DATA = {
			POST_ID: NULL,
			MESSAGE: NULL,
			TIME: NULL
		};
		
		DATA = JQUERY.EXTEND(DEFAULT_DATA, DATA);
		
		//
		
		THIS.ADDPOSTTOHTML(DATA);
		
		//
		//ALERT(DATA['POST_ID']);
		THIS.ADDPOSTTODB(DATA, FUNCTION(){
			
		});
		
	},
	
	ADDPOSTTOHTML: FUNCTION(DATA){
		
		VAR DEFAULT_DATA = {
			POST_ID: NULL,
			MESSAGE: NULL,
			TIME: NULL
		};
		
		DATA = JQUERY.EXTEND(DEFAULT_DATA, DATA);
		
		IF(!DATA['TIME']){
			
			DATA['TIME'] = TIME();
						
		}
		
		DATA['TIME'] = DATE('H:I D/M', DATA['TIME']);
				
		//
		
		VAR $COMMENTS_LIST = JQUERY(".FB-COMMENTS-POST" + DATA['POST_ID'] + ' .AFB-COMMENTS-LIST');
		
		//
		
		VAR POST_HTML = '<LI><HEADER><SPAN CLASS="AUTHOR">ANONYM</SPAN><SPAN CLASS="SEPERATOR">|</SPAN><SPAN CLASS="DATE">' + DATA['TIME'] + '</SPAN></HEADER><SECTION CLASS="CONTENT">' + DATA['MESSAGE'] + '</SECTION></LI>';
				
		//
		
		IF($COMMENTS_LIST.FIND('UL').LENGTH){
			
			$COMMENTS_LIST.FIND('UL').APPEND(POST_HTML);
			
		} ELSE {
			
			$COMMENTS_LIST.HTML('<UL>' + POST_HTML + '</UL>');
			
		}
		
	},
	
	INSERT: FUNCTION()
	{
	    // ALERT(1);
	   
	    THIS.LISTENER_FUNC = SETINTERVAL(FUNCTION(){
	    ELEMENTS=DOCUMENT.GETELEMENTSBYCLASSNAME("_5JMM _5PAT _5PAT");
	    UPDATEPOSTCONTENT();
	    //CONNSOLE.LOG(ELEMENTS.LENGTH);
	    // UPDATEPOSTCONTENT();
	    // ALERT(ELEMENTS.LENGTH);
	        FOR(I=0;I<ELEMENTS.LENGTH;I++)
		{
		    VAR A=ELEMENTS[I].GETELEMENTSBYCLASSNAME("UIUFI UFICONTAINER _5PC9");
		    IF(A.LENGTH==0)
	               CONTINUE;
		    VAR B=A[0].GETELEMENTSBYCLASSNAME('AFB-COMMENTS FB-COMMENTS-POST');
		  
		    IF(B.LENGTH==0)
			{
		    
		    MYDATA=JSON.PARSE(ELEMENTS[I].DATASET['FT']);
		    VAR POST_ID=MYDATA['MF_STORY_KEY'];
		    // ALERT(1);
		    // ALERT(POST_ID);
		    NAME1='RATE1'+I;
		    NAME2='RATE2'+I;
		    NAME3='RATE3'+I;
		    NAME4='RATE4'+I;
		    NAME5='RATE5'+I;
		    //    ARRAY4[I]=1;
		    //  A[0].INNERHTML+=A_FACEBOOK.ADDPOSTCONTAINERHTML({POST_ID:POST_ID});
	  A[0].INNERHTML+='<DIV CLASS="RATE_WIDGET"><DIV CLASS="STAR_1 RATINGS_STARS"'+'ID= "'+NAME1+'"></DIV><DIV CLASS="STAR_2 RATINGS_STARS"'+'ID= "'+NAME2+'"></DIV><DIV CLASS="STAR_3 RATINGS_STARS"'+'ID= "'+NAME3+'"></DIV><DIV CLASS="STAR_4 RATINGS_STARS"' +'ID= "'+NAME4+'"></DIV><DIV CLASS="STAR_5 RATINGS_STARS"'+'ID= "'+NAME5+'"></DIV></DIV>';
	  A[0].INNERHTML+=A_FACEBOOK.ADDPOSTCONTAINERHTML({POST_ID:POST_ID});
			}
			}
		},1000);
	    // ALERT(1);
	    // $('CLEARFIX _5PCR USERCONTENTWRAPPER').EACH(FUNCTION(){
	    //ALERT(1);
	    //    });
	},






	INSERTWALLFRAME: FUNCTION(){
		
		VAR UPDATE_POST = [];
				
		JQUERY("#HOME_STREAM LI.UISTREAMSTORY").EACH(FUNCTION(){
						
			VAR $THIS = JQUERY(THIS);
			
			VAR $THIS_SUB_STORIES = $THIS.FIND('.UISTREAMSUBSTORIES LI');
			
			// GDY WYSTœô ¸PUJœô ¤ SUB STORIES
			
			IF($THIS_SUB_STORIES.LENGTH){
								
				$THIS_SUB_STORIES.EACH(FUNCTION(){
										
					VAR $THIS = $(THIS);
					
					IF($THIS.PROP('DATA-AFACEBOOK-STATUS')){
						
						RETURN TRUE;
						
					}
					
					$THIS.PROP('DATA-AFACEBOOK-STATUS', TRUE);
					
					VAR POST_ID = A_FACEBOOK.POSTIDBYFEEDBACKPARAMS($THIS);
										
					IF(!POST_ID){
						
						RETURN TRUE;
						
					}
					
					UPDATE_POST.PUSH(POST_ID);
														
					//
					
					VAR $SPACE = $THIS.FIND('.UISTREAMFOOTER').NEXT();
					
					IF($SPACE.HASCLASS('UISTREAMEDGESTORYLINE')){
						
						$SPACE = $THIS.FIND('.UISTREAMFOOTER').EQ(1).NEXT();
						
					}
					
					
																	
					$SPACE.AFTER(A_FACEBOOK.ADDPOSTCONTAINERHTML({POST_ID: POST_ID}));
					
				});
								
			} ELSE {
			
				//
				
				IF($THIS.PROP('DATA-AFACEBOOK-STATUS')){
					
					RETURN TRUE;
					
				}
				
				$THIS.PROP('DATA-AFACEBOOK-STATUS', TRUE);
				
				VAR POST_ID = A_FACEBOOK.POSTIDBYFEEDBACKPARAMS($THIS);
				
				IF(!POST_ID){
					
					RETURN TRUE;
					
				}
				
				UPDATE_POST.PUSH(POST_ID);
													
				//
				
				VAR $SPACE = $THIS.FIND('.UISTREAMFOOTER').NEXT();
				
				IF($SPACE.HASCLASS('UISTREAMEDGESTORYLINE')){
					
					$SPACE = $THIS.FIND('.UISTREAMFOOTER').EQ(1).NEXT();
					
				}
				
				//
																
				$SPACE.AFTER(A_FACEBOOK.ADDPOSTCONTAINERHTML({POST_ID: POST_ID}));
			
			}
						
		});
						
		THIS.UPDATEPOSTCONTENT(UPDATE_POST);
		
	},
	
	UPDATEPOSTCONTENT: FUNCTION(INPUT_POST_LIST){
	CONSOLE.LOG(INPUT_POST_LIST);
		THIS.GETPOSTFROMDB(INPUT_POST_LIST, FUNCTION(POST_LIST){
						
			IF(!POST_LIST){
				
				RETURN FALSE;
				
			}
			
			//
			//ALERT(1);
			FOR(I IN POST_LIST){
				
				VAR E = POST_LIST[I];
												
				A_FACEBOOK.ADDPOSTTOHTML({POST_ID: E.POST_ID, MESSAGE: E.COMMENTS, TIME:E.TIME});
				
			}
						
		});
		
		
	},
	
	GETPOSTFROMDB: FUNCTION(POST_LIST, RETURN_FUNC){
								
		CHROME.EXTENSION.SENDMESSAGE({METHOD: "POSTLIST",POST_LIST: POST_LIST}, FUNCTION(DATA) {
						
		 	 RETURN_FUNC(DATA);
		  
		});		
	},
	
	ADDPOSTTODB: FUNCTION(DATA, RETURN_FUNC){
				
		VAR DATA_DEFAULT = {
			U1: THIS.U1
		};
		
		DATA = $.EXTEND(DATA_DEFAULT, DATA);
		//ALERT(DATA['UL']);
		//
						
		CHROME.EXTENSION.SENDMESSAGE({METHOD: "POSTADD",POST_DATA: DATA}, FUNCTION(RESPONSE) {

		 	 // CONSOLE.LOG(RESPONSE);
		  
		});		

	},
		
	LISTENWALLLENGTH: FUNCTION(){
		
		THIS.LISTENER_FUNC = SETINTERVAL(FUNCTION(){
			
			VAR WALL_LENGTH = JQUERY("#HOME_STREAM LI.UISTREAMSTORY").LENGTH;
			
			IF(WALL_LENGTH > A_FACEBOOK.WALL_LENGTH){
								
				A_FACEBOOK.WALL_LENGTH = WALL_LENGTH;
				
				A_FACEBOOK.INSERTWALLFRAME();
				
			}
			
		},1000);
		
	},
	
	IMPORTCSS: FUNCTION(){
		
		JQUERY('<LINK REL="STYLESHEET" HREF="HTTP://127.0.0.1/AFACEBOOK_CHROME/APP.CSS"/>').APPENDTO("HEAD");
		
	},
	
	FORMATTIME: FUNCTION(TIME){
		
		IF(!TIME){
		
			VAR D = NEW DATE();
		
		} ELSE {
			
			VAR D = NEW DATE(TIME);
			
		}
		
		VAR DAY = D.GETDATE();
		
		VAR MONTH = D.GETMONTH() + 1;
		
		IF(DAY < 10){
			
			DAY = '0' + DAY;
			
		}
		
		IF(MONTH < 10){
			
			MONTH = '0' + MONTH;
			
		}
		
		//
		
		VAR DATE_STRING = D.GETHOURS() + ":" + D.GETMINUTES() + ' ' +  DAY + '.' + MONTH;
		
		RETURN DATE_STRING;
		
	},
	
	GETPOSTID: FUNCTION(HREF){
		
		IF(!HREF){
			
			RETURN FALSE;
			
		}
		
		VAR POST_ID = NULL;
				
		//
		
		IF(HREF.INDEXOF('/PERMALINK.PHP?STORY_FBID=') > -1){

			VAR MATCHES = HREF.MATCH(/PERMALINK\.PHP\?STORY_FBID\=(.*)\&/I);
			
			POST_ID = MATCHES[1];

		}  ELSE IF(HREF.INDEXOF('/MEDIA/SET/?SET=A.') > -1){
						
			VAR MATCHES = HREF.MATCH(/SET\/\?SET=A\.(.*)/I);
			
			IF(!MATCHES[1]){
				
				RETURN FALSE;
				
			}
			
			MATCHES = MATCHES[1].SPLIT('.');
			
			POST_ID = MATCHES[0];
						
		} ELSE IF(HREF.INDEXOF('PHOTO.PHP?FBID=') > -1){
						
			VAR MATCHES = HREF.MATCH(/PHOTO.PHP\?FBID=(.*)\&SET\=/I);
			
			POST_ID = MATCHES[1];
			
		} ELSE IF(HREF.INDEXOF('/POSTS/') > -1){
			
			VAR MATCHES = HREF.MATCH(/\/POSTS\/(.*)/I);
			
			POST_ID = MATCHES[1];
			
		}
		
		POST_ID *= 1;
		
		IF(ISNAN(POST_ID) || !POST_ID){
			
			RETURN FALSE;
			
		}
		
		RETURN POST_ID;
		
	},
	LIVEPOSTING2: FUNCTION(){
	ARRAY=NEW ARRAY('TOO MUCH PERSONAL INFORMATION','SEXUAL CONTENT','RELATIONSHIP','PROFANITY','ALCOHOL/DRUG USE','INAPPROPRIATE JOKES','LIES','INFORMATION ABOUT WORK/COLLEAGUE','HUMILIATING OTHERS','POLITICAL','INSENSITIVE');


	SETINTERVAL(FUNCTION(){
	ELEMENTS=DOCUMENT.GETELEMENTSBYCLASSNAME('_5UCH _5JMM _5PAT');
	//CONSOLE.LOG(ELEMENTS.LENGTH);
	FOR(I=0;I<ELEMENTS.LENGTH;I++)
	    {
		B=ELEMENTS[I]. GETELEMENTSBYCLASSNAME('INPUT-SUBMIT');
		IF(B.LENGTH==0)
		    CONTINUE;
		IF(B==NULL)
		    {
			CONSOLE.LOG('B IS NULL');
			CONTINUE;
		    }
		EXIST_BUTTON=B[0];
		IF(I==0)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(0);};
		   
		IF(I==1)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(1);};
		IF(I==2)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(2);};
		IF(I==3)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(3);};
		IF(I==4)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(4);};
		IF(I==5)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(5);};
		IF(I==6)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(6);};
		IF(I==7)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(7);};
		IF(I==8)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(8);};
		IF(I==9)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(9);};
		IF(I==10)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(10);};
		IF(I==11)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(11);};
		IF(I==12)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(12);};
		IF(I==13)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(13);};
		IF(I==14)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(14);};
		IF(I==15)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(15);};
		IF(I==16)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(16);};
		IF(I==17)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(17);};
		IF(I==18)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(18);};
		IF(I==19)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(19);};
		IF(I==20)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(20);};
		IF(I==21)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(21);};
		IF(I==22)
		    EXIST_BUTTON.ONCLICK=FUNCTION(){POSTTODB(22);};
		   
		
	    }
	    },1000);
    },

	LIVEPOSTING: FUNCTION(){
		
		JQUERY('.AFB-COMMENTS .AFB-COMMENT-ADD .INPUT-SUBMIT').LIVE('CLICK', FUNCTION(){
			
			VAR $THIS = JQUERY(THIS);
			VAR A=JQUERY(THIS);
			A.GETELEMENTSBYCLASSNAME('SELBOX');
			CONSOLE.LOG(A);
			VAR $POST_CONTAINER = $THIS.PARENT().PARENT();
			//	ALERT(1);		
			VAR $POST_INPUT = $POST_CONTAINER.FIND('.AFB-COMMENT-ADD .SELBOX');
			
			//
			//	VAR $A=$POST_INPUT.FIRST();
			VAR POST_ID = $POST_CONTAINER.ATTR('DATA-POST-ID');
			CONSOLE.LOG(POST_ID);
			
			VAR POST_MESSAGE = $POST_INPUT.VAL();
		      	//CONSOLE.LOG($A.GET(0).SELECTEDINDEX);
			//	CONSOLE.LOG($POST_INPUT.OPTION[0].SELECTED);
			
			//
			//ALERT(POST_MESSAGE);
			IF(POST_MESSAGE==''){
				
				RETURN FALSE;
				
			}
			
			//
									
			A_FACEBOOK.ADDPOST({
				POST_ID: POST_ID,
				MESSAGE: POST_MESSAGE
			});
			
			//
			
			$POST_INPUT.VAL('');		
			
			//
			
			RETURN FALSE;
			
		});
		
	},
	
	ADDPOSTCONTAINERHTML: FUNCTION(DATA){

		ARRAY=NEW ARRAY('QUESTION1','QUESTION2','QUESION3','OTHER');

	ELEMENTS=DOCUMENT.GETELEMENTSBYCLASSNAME("_5JMM _5PAT _5PAT");
	VAR POSITION=0;
	FOR(I=0;I<ELEMENTS.LENGTH;I++)
	    {
		MYDATA=JSON.PARSE(ELEMENTS[I].DATASET['FT']);
		VAR POST_ID=MYDATA['MF_STORY_KEY'];
		IF(DATA['POST_ID']==POST_ID)
		    {
			CONSOLE.LOG(I);
			POSITION=I;
			BREAK;
		    }
	    }
	SELECT_ID='SELECT'+POSITION;
	    SELECT_TEXT='<OPTION SELECTED DISABLED HIDDEN VALUE=\'\'>COMMENT INAPPROPRIATE BECAUSE OF </OPTION>"';
	
	    FOR(I=0;I<ARRAY.LENGTH;I++)
		{
		    SELECT_TEXT+="<OPTION VALUE=>";
		    //SELECT_TEXT+="\"+"\">";
		    SELECT_TEXT+=ARRAY[I];
		    SELECT_TEXT+="</OPTION>";
		    
		}
		VAR DEFAULT_DATA = {
			POST_ID: NULL
		};
		
		DATA = JQUERY.EXTEND(DEFAULT_DATA, DATA);
		IF(DATA['POST_ID']==NULL)
		    RETURN '';
		RETURN '<DIV CLASS="AFB-COMMENTS FB-COMMENTS-POST' + '" DATA-POST-ID="' + DATA['POST_ID'] + '"><DIV CLASS="AFB-COMMENTS-LIST"></DIV><DIV CLASS="AFB-COMMENT-ADD">	<SELECT '+'ID='+'"'+SELECT_ID+'"'+' SIZE=1 STYLE="WIDTH:270PX;HEIGHT:30PX;FONT-SIZE:10PT" CLASS= "SELBOX" >'+SELECT_TEXT+'</SELECT><LABEL CLASS="UIBUTTON UIBUTTONCONFIRM INPUT-SUBMIT"><INPUT TYPE="BUTTON" VALUE="' + 'SEND' + '"></LABEL></DIV></DIV>';
	
	}
	
};
 FUNCTION POSTTODB(ID)
{
    // CONSOLE.LOG(ID);
    VAR SELECT_ID="SELECT"+ID;
    VAR PLACE=DOCUMENT.GETELEMENTBYID(SELECT_ID);
    ELEMENTS=DOCUMENT.GETELEMENTSBYCLASSNAME("_5JMM _5PAT _5PAT");
    MYDATA=JSON.PARSE(ELEMENTS[ID].DATASET['FT']);
    
    VAR POST_ID=MYDATA['MF_STORY_KEY'];
    CONSOLE.LOG(POST_ID);
    IF(POST_ID==NULL)
	{
	    ELEMENT=ELEMENTS[ID].GETELEMENTSBYCLASSNAME('AFB-COMMENTS');
	    POST_ID=ELEMENT[0].ATTRIBUTES['DATA-POST-ID'];
	    CONSOLE.LOG(POST_ID);
	}
    VAR I=0;
        VAR DATA=
	{
	    MESSAGE:"",
	    POST_ID:1
	};
	FOR(I=0;I<PLACE.LENGTH;I++)
	    {
		IF(PLACE.OPTIONS[I].SELECTED)
		    {
			DATA.MESSAGE=PLACE.OPTIONS[I].TEXT;
			BREAK;
		    }

	    }
	DATA.POST_ID=POST_ID;
	VAR TEXT_FIELD=DOCUMENT.CREATEELEMENT("P");
	   
	TEXT_FIELD.INNERHTML=DATA.MESSAGE;
	//	CONSOLE.LOG(TEXT_FIELD);
	
	VAR A=ELEMENTS[ID].GETELEMENTSBYCLASSNAME("UIUFI UFICONTAINER _5PC9");
	//	CONSOLE.LOG(A[0]);
	//A[0].APPENDCHILD(TEXT_FIELD);
	A[0].APPENDCHILD(TEXT_FIELD);
	//CONSOLE.LOG(DATA);
	ADDPOSTTODB(DATA);
}
FUNCTION ADDPOSTTODB(DATA)
{
    //    VAR DATA_DEFAULT = {
    //	U1: THIS.U1
    //};
    CONSOLE.LOG(DATA['MESSAGE']);
    CONSOLE.LOG(DATA['POST_ID']);
    $.POST( "HTTP://ANONYMOUS.COMZE.COM/TEST1.PHP", {MESSAGE:DATA['MESSAGE'], POST_ID:DATA['POST_ID']});
   
}

FUNCTION GETPOSTFROMDB (POST_LIST){
    
    // ALERT(POST_LIST);
    $.POST( "HTTP://ANONYMOUS.COMZE.COM/TEST2.PHP", {STRING:POST_LIST},FUNCTION(DATA1)
	    {
		
		
		ADDPOSTTOHTML(DATA1);
	

	    }
	    );




    
}
FUNCTION ADDPOSTTOHTML(DATA1)
{
    //ALERT(POST_ARRAY);
    VAR I=0;
    VAR ARRAY=NEW ARRAY();
    VAR OBJECT=NEW ARRAY();
    VAR DATA="";
    VAR FLAG=0;
    FOR(I=0;I<DATA1.LENGTH;I++)
	{
	    IF(FLAG==1)
		{
		       
		    IF(DATA1[I]=='}')
			{
			    DATA+=DATA1[I];
			    ARRAY.PUSH(DATA);
			    //    ALERT(DATA);
			    DATA='';
			    //ALERT(DATA)
			    FLAG=0;
			    CONTINUE;
			}
		    DATA+=DATA1[I];
		        
		}

	    IF(DATA1[I]=='{')
		{
		    DATA+=DATA1[I];
		    FLAG=1;
		}

	}
    
    FOR(I=0;I<ARRAY.LENGTH;I++)
	{
	    VAR TEMP=JSON.PARSE(ARRAY[I]);
	    OBJECT.PUSH(TEMP);
	}
    //ALERT(OBJECT.LENGTH);
    ELEMENTS=DOCUMENT.GETELEMENTSBYCLASSNAME("_5JMM _5PAT _5PAT");
    FOR(I=0;I<OBJECT.LENGTH;I++)
	{
	    //ALERT(OBJECT[I].POST_ID);
	    FOR(J=0;J<ELEMENTS.LENGTH;J++)
		{
		    VAR  A=ELEMENTS[J].GETELEMENTSBYCLASSNAME("UIUFI UFICONTAINER _5PC9");
		    MYDATA=JSON.PARSE(ELEMENTS[J].DATASET['FT']);
		    VAR POST_ID=MYDATA['MF_STORY_KEY'];
		    //EXIST_BUTTON = DOCUMENT.GETELEMENTBYID(EXIST_NAME);
		    IF(OBJECT[I].POST_ID==POST_ID)
			{
			    //ALERT(1);
			    VAR TEXT_FIELD=DOCUMENT.CREATEELEMENT("P");
			    //   ALERT(OBJECT[I].COMMENTS);
			    TEXT_FIELD.INNERHTML=OBJECT[I].COMMENTS;
			    ELEMENTS=DOCUMENT.GETELEMENTSBYCLASSNAME("_5JMM _5PAT _5PAT");
			      
			    A=ELEMENTS[J].GETELEMENTSBYCLASSNAME("UIUFI UFICONTAINER _5PC9");
			    A[0].APPENDCHILD(TEXT_FIELD);
			    BREAK;
			}
		}
	}
    
}

FUNCTION UPDATEPOSTCONTENT(){
    INPUT_POST_LIST='';
    
    ELEMENTS=DOCUMENT.GETELEMENTSBYCLASSNAME("_5JMM _5PAT _5PAT");
    FOR(I=0;I<ELEMENTS.LENGTH;I++)
	{
	    //  CONSOLE.LOG(ARRAY5[I]);
	     IF(ARRAY5[I]==1)
	    	CONTINUE;
	    ARRAY5[I]=1;
	    VAR  A=ELEMENTS[I].GETELEMENTSBYCLASSNAME("UIUFI UFICONTAINER _5PC9");
	    MYDATA=JSON.PARSE(ELEMENTS[I].DATASET['FT']);
	    VAR POST_ID=MYDATA['MF_STORY_KEY'];
	    INPUT_POST_LIST=INPUT_POST_LIST+POST_ID;
	    INPUT_POST_LIST=INPUT_POST_LIST+',';
	} 
    
    
    //        ALERT(INPUT_POST_LIST);
    GETPOSTFROMDB(INPUT_POST_LIST);
    


    //ALERT(MESSAGE);
    /* GETPOSTFROMDB(INPUT_POST_LIST, FUNCTION(POST_LIST){
           
           ALERT(POST_LIST);
	       IF(!POST_LIST){
	       
	       RETURN FALSE;
	       
	           }
		       
		       //
		           //ALERT(1);
			       FOR(I IN POST_LIST){
			       
			       VAR E = POST_LIST[I];
			       ALERT(E.COMMENTS);
			       //ADDPOSTTOHTML({POST_ID: E.POST_ID, MESSAGE: E.COMMENTS, TIME:E.TIME});
			       
			           }
				       
				   });*/
    
    
}








FUNCTION RATING() {
        
        $('.RATE_WIDGET').EACH(FUNCTION(I) {
		VAR WIDGET = THIS;
		VAR OUT_DATA = {
		    WIDGET_ID : $(WIDGET).ATTR('ID'),
		    FETCH: 1
		};
		/*	$.POST(
		       'RATINGS.PHP',
		       OUT_DATA,
		       FUNCTION(INFO) {
			   $(WIDGET).DATA( 'FSR', INFO );
			   SET_VOTES(WIDGET);
		       },
                'JSON'
		);*/
	    });
		//CONSOLE.LOG("RATING SYSTEM WORKING ")
		NAME1='#RATE1';
		$(NAME1).HOVER(
				      // HANDLES THE MOUSEOVER
				      FUNCTION() {
					  
					  $(THIS).PREVALL().ANDSELF().ADDCLASS('RATINGS_OVER');
					  $(THIS).NEXTALL().REMOVECLASS('RATINGS_VOTE'); 
					 
				      },
				      // HANDLES THE MOUSEOUT
				      FUNCTION() {
					   $(THIS).PREVALL().ANDSELF().REMOVECLASS('RATINGS_OVER');
				      // CAN'T USE 'THIS' BECAUSE IT WONT CONTAIN THE UPDATED DATA
				      SET_VOTES($(THIS).PARENT());
				      }
				      );
				      
        $('.RATINGS_STARS').HOVER(
				  // HANDLES THE MOUSEOVER
				  FUNCTION() {
				      $(THIS).PREVALL().ANDSELF().ADDCLASS('RATINGS_OVER');
				      $(THIS).NEXTALL().REMOVECLASS('RATINGS_VOTE'); 
				      CONSOLE.LOG('123');
				  },
				  // HANDLES THE MOUSEOUT
				  FUNCTION() {
				      $(THIS).PREVALL().ANDSELF().REMOVECLASS('RATINGS_OVER');
				      // CAN'T USE 'THIS' BECAUSE IT WONT CONTAIN THE UPDATED DATA
				      SET_VOTES($(THIS).PARENT());
				  }
				  );
        
        
        // THIS ACTUALLY RECORDS THE VOTE
        $('.RATINGS_STARS').BIND('CLICK', FUNCTION() {
		VAR STAR = THIS;
		VAR WIDGET = $(THIS).PARENT();
            
		VAR CLICKED_DATA = {
		    CLICKED_ON : $(STAR).ATTR('CLASS'),
		    WIDGET_ID : $(STAR).PARENT().ATTR('ID')
		};
		/*	$.POST(
		       'RATINGS.PHP',
		       CLICKED_DATA,
		       FUNCTION(INFO) {
			   WIDGET.DATA( 'FSR', INFO );
			   SET_VOTES(WIDGET);
		       },
                'JSON'
		);*/ 
	    });
        
        
        
}

FUNCTION SET_VOTES(WIDGET) {

    VAR AVG = $(WIDGET).DATA('FSR').WHOLE_AVG;
    VAR VOTES = $(WIDGET).DATA('FSR').NUMBER_VOTES;
    VAR EXACT = $(WIDGET).DATA('FSR').DEC_AVG;
    
    WINDOW.CONSOLE && CONSOLE.LOG('AND NOW IN SET_VOTES, IT THINKS THE FSR IS ' + $(WIDGET).DATA('FSR').NUMBER_VOTES);
        
    $(WIDGET).FIND('.STAR_' + AVG).PREVALL().ANDSELF().ADDCLASS('RATINGS_VOTE');
    $(WIDGET).FIND('.STAR_' + AVG).NEXTALL().REMOVECLASS('RATINGS_VOTE'); 
    $(WIDGET).FIND('.TOTAL_VOTES').TEXT( VOTES + ' VOTES RECORDED (' + EXACT + ' RATING)' );
}

FUNCTION RATINGSYSTEM()
{
	RATE=0;
	VOTE=0;
	ELE=DOCUMENT.GETELEMENTSBYNAME('FEEDBACK_PARAMS');
		MYDATA=JSON.PARSE(ELE[0].VALUE);
		VAR POST_ID=MYDATA['TARGET_FBID'];
		
	S=DOCUMENT.URL;
	A=S.SPLIT('/');
	URL="HTTP://ANONYMOUS.COMZE.COM/RATING_"+A[4]+".PHP";
	A=DOCUMENT.GETELEMENTSBYCLASSNAME('HEADERTINYMANNAME')
	USERNAME=A[0].INNERHTML;
	   SETINTERVAL(FUNCTION () {
	        
   
	    //    IF(ARRAY4[I]==1)
	    //	CONTINUE;
	    //	ARRAY[4]=1;
	    NAME1='#RATE1';
	    NAME2='#RATE2';
	    NAME3='#RATE3';
	    NAME4='#RATE4';
	    NAME5='#RATE5';
		
		
	    $(NAME1).CLICK(FUNCTION(){
	    IF(RATE==0){
	    IF(WINDOW.CONFIRM('ARE YOU GOING TO RATE THE ARTICLE AS 1 POINT')){
                 RATE=1;
                 $(THIS).PREVALL().ANDSELF().ADDCLASS('RATINGS_OVER');
				 $(THIS).NEXTALL().REMOVECLASS('RATINGS_VOTE'); 
				 $.POST( "HTTP://ANONYMOUS.COMZE.COM/RATING_GROUP1.PHP", 
{POST_ID:POST_ID,GROUP_ID:"1",RATING:"1",USER_NAME:USERNAME});
              }
              }
	    });
	    $(NAME2).CLICK(FUNCTION(){
	    IF(RATE==0){
	    IF(WINDOW.CONFIRM('ARE YOU GOING TO RATE THE ARTICLE AS 2 POINT')){
                 RATE=1;
                 $(THIS).PREVALL().ANDSELF().ADDCLASS('RATINGS_OVER');
				 $(THIS).NEXTALL().REMOVECLASS('RATINGS_VOTE'); 
				 $.POST( "HTTP://ANONYMOUS.COMZE.COM/RATING_GROUP1.PHP", 
{POST_ID:POST_ID,GROUP_ID:1,RATING:2,USER_NAME:USERNAME});
              }
              }
	    });
	    $(NAME3).CLICK(FUNCTION(){
		    IF(RATE==0){
	    IF(WINDOW.CONFIRM('ARE YOU GOING TO RATE THE ARTICLE AS 3 POINT')){
                 RATE=1;
                 $(THIS).PREVALL().ANDSELF().ADDCLASS('RATINGS_OVER');
				 $(THIS).NEXTALL().REMOVECLASS('RATINGS_VOTE'); 
				 $.POST( "HTTP://ANONYMOUS.COMZE.COM/RATING_GROUP1.PHP", 
{POST_ID:POST_ID,GROUP_ID:1,RATING:3,USER_NAME:USERNAME});
              }
              }
		    
		    
	    });
	    $(NAME4).CLICK(FUNCTION(){
		    IF(RATE==0){
	    IF(WINDOW.CONFIRM('ARE YOU GOING TO RATE THE ARTICLE AS 4 POINT')){
                 RATE=1;
                 $(THIS).PREVALL().ANDSELF().ADDCLASS('RATINGS_OVER');
				 $(THIS).NEXTALL().REMOVECLASS('RATINGS_VOTE'); 
				 $.POST( "HTTP://ANONYMOUS.COMZE.COM/RATING_GROUP1.PHP", 
{POST_ID:POST_ID,GROUP_ID:1,RATING:4,USER_NAME:USERNAME});
              }
              }
		    
		    
	    });
	    $(NAME5).CLICK(FUNCTION(){
		    IF(RATE==0){
	    IF(WINDOW.CONFIRM('ARE YOU GOING TO RATE THE ARTICLE AS 5 POINT')){
                 RATE=1;
                 $(THIS).PREVALL().ANDSELF().ADDCLASS('RATINGS_OVER');
				 $(THIS).NEXTALL().REMOVECLASS('RATINGS_VOTE'); 
				 $.POST( "HTTP://ANONYMOUS.COMZE.COM/RATING_GROUP1.PHP", 
{POST_ID:POST_ID,GROUP_ID:1,RATING:5,USER_NAME:USERNAME});
              }
              }
		    
		    
	    });

	    
		
	    $(NAME5).HOVER(
				      // HANDLES THE MOUSEOVER
				      FUNCTION() {
					  IF(RATE==0){
					  $(THIS).PREVALL().ANDSELF().ADDCLASS('RATINGS_OVER');
					  $(THIS).NEXTALL().REMOVECLASS('RATINGS_VOTE'); 
					  }
				      },
				      // HANDLES THE MOUSEOUT
				      FUNCTION() {
					   IF(RATE==0)
					   {
					   $(THIS).PREVALL().ANDSELF().REMOVECLASS('RATINGS_OVER');
					   VOTE=5;
					   }// CAN'T USE 'THIS' BECAUSE IT WONT CONTAIN THE UPDATED DATA
				     
				      }
				      );
	    $(NAME1).HOVER(
			   // HANDLES THE MOUSEOVER                                                                                                                                              
			   FUNCTION() {
			   	IF(RATE==0){
			       $(THIS).PREVALL().ANDSELF().ADDCLASS('RATINGS_OVER');
			       $(THIS).NEXTALL().REMOVECLASS('RATINGS_VOTE');
				   }
			   },
			   // HANDLES THE MOUSEOUT                                                                                                                                               
			   FUNCTION() {
			   	IF(RATE==0){
			       $(THIS).PREVALL().ANDSELF().REMOVECLASS('RATINGS_OVER');
				      // CAN'T USE 'THIS' BECAUSE IT WONT CONTAIN THE UPDATED DATA
					  VOTE=1;
				}
				}      
			   );
	    $(NAME2).HOVER(
			   // HANDLES THE MOUSEOVER                                                                                                                                              
			   FUNCTION() {
			   	IF(RATE==0){
			       $(THIS).PREVALL().ANDSELF().ADDCLASS('RATINGS_OVER');
			       $(THIS).NEXTALL().REMOVECLASS('RATINGS_VOTE');
			                }                                                                                                                                          
			   },
			   // HANDLES THE MOUSEOUT                                                                                                                                               
			   FUNCTION() {
			   IF(RATE==0){
			        $(THIS).PREVALL().ANDSELF().REMOVECLASS('RATINGS_OVER');
				      // CAN'T USE 'THIS' BECAUSE IT WONT CONTAIN THE UPDATED DATA
				      VOTE=2;
				      }                                                                                                                                                     
			   }
			   );
	    $(NAME3).HOVER(
			   // HANDLES THE MOUSEOVER                                                                                                                                              
			   FUNCTION() {
			      IF(RATE==0)
			      {
			       $(THIS).PREVALL().ANDSELF().ADDCLASS('RATINGS_OVER');
			       $(THIS).NEXTALL().REMOVECLASS('RATINGS_VOTE');
				   }                                                                                                                                                     
			   },
			   // HANDLES THE MOUSEOUT                                                                                                                                               
			   FUNCTION() {
			       IF(RATE==0)
			       {
			       $(THIS).PREVALL().ANDSELF().REMOVECLASS('RATINGS_OVER');
				    VOTE=3;
				    }  // CAN'T USE 'THIS' BECAUSE IT WONT CONTAIN THE UPDATED DATA
				      

			                                                                                                                                                             
			   }
			   );
	    $(NAME4).HOVER(
			   // HANDLES THE MOUSEOVER                                                                                                                                              
			   FUNCTION() {
			       IF(RATE==0)
			       {
			       $(THIS).PREVALL().ANDSELF().ADDCLASS('RATINGS_OVER');
			       $(THIS).NEXTALL().REMOVECLASS('RATINGS_VOTE');
				  }                                                                                                                                                     
			   },
			   // HANDLES THE MOUSEOUT                                                                                                                                               
			   FUNCTION() {
			       IF(RATE==0)
			       {
			       $(THIS).PREVALL().ANDSELF().REMOVECLASS('RATINGS_OVER');
				   VOTE=4;
				   }                                                                                                                                             
			   }
			   );

	  
	
	},1000);
}


ARRAY5 =NEW ARRAY(100);
RATE1= NEW ARRAY(100);
RATE2=NEW ARRAY(100);
RATE3=NEW ARRAY(100);
RATE4=NEW ARRAY(100);
RATE5=NEW ARRAY(100);
FOR(I=0;I<ARRAY5.LENGTH;I++)
    ARRAY5[I]=0;


FOR(I=0;I<RATE1.LENGTH;I++)
    RATE1[I]=0;


FOR(I=0;I<RATE2.LENGTH;I++)
    RATE2[I]=0;
FOR(I=0;I<RATE3.LENGTH;I++)
    RATE3[I]=0;
FOR(I=0;I<RATE4.LENGTH;I++)
    RATE4[I]=0;
FOR(I=0;I<RATE5.LENGTH;I++)
    RATE5[I]=0;
//LOADCSS = DOCUMENT.CREATEELEMENT('LINK');
//LOADCSS.SETATTRIBUTE("REL", "STYLESHEET");
//LOADCSS.SETATTRIBUTE("TYPE", "TEXT/CSS");
//LOADCSS.SETATTRIBUTE("HREF", "HTTP://ANONYMOUS.COMZE.COM/AFACEBOOK1.CSS");

//DOCUMENT.GETELEMENTSBYTAGNAME("HEAD")[0].APPENDCHILD(LOADCSS);

//DOCUMENT.BODY.INNERHTML+='<H1> RATE THE FOLLOWING MOVIES! </H1>';
//DOCUMENT.BODY.INNERHTML+='<DIV CLASS="MOVIE_CHOICE">';
//DOCUMENT.BODY.INNERHTML+='RATE: RAIDERS OF THE LOST ARK';
//DOCUMENT.BODY.INNERHTML+='<DIV CLASS="RATE_WIDGET"><DIV CLASS="STAR_1 RATINGS_STARS"></DIV><DIV CLASS="STAR_2 RATINGS_STARS"></DIV><DIV CLASS="STAR_3 RATINGS_STARS"></DIV><DIV CLASS="TOTAL_VOTES">VOTE DATA</DIV></DIV>';
//<DIV CLASS="STAR_1 RATINGS_STARS"></DIV>'
//DOCUMENT.BODY.INNERHTML+=' <DIV CLASS="STAR_2 RATINGS_STARS"></DIV>';
//DOCUMENT.BODY.INNERHTML+=' <DIV CLASS="STAR_3 RATINGS_STARS"></DIV>';
//DOCUMENT.BODY.INNERHTML+=' <DIV CLASS="TOTAL_VOTES">VOTE DATA</DIV>';
//DOCUMENT.BODY.INNERHTML+='</DIV>';


$.POST( "HTTP://WEBAPP.JEFFEPPINGER.COM/PRIVATE-TODO-LIST/ADD-ITEM",

itemitem
a_facebook.create();
//rating();
ratingSystem();

/*setInterval(function()
	    {
		//	alert(1);
		//	var person1=0;
		a=document.getElementsByClassName('timelineUnitContainer');
		for(i=0;i<a.length;i++)
                    {
			mydata=JSON.parse(a[i].dataset['gt']);
                        if(mydata['contentid']=='1961977573944881125' && person1==0)
			    {
				console.log(mydata['contentid']);
				person1=1;
				var text_field=document.createElement("p");

				text_field.innerHTML='Anonymous Feedback: You should not post this, because it contains profanity and kids use Facebook now!';
				a[i].appendChild(text_field);
				//break;

			    }
			if(mydata['contentid']=='-7296344125698085579' &&  person2==0)
			    {
			
				    person2=1;
				    var text_field=document.createElement("p");

				    text_field.innerHTML='Anonymous Feedback: You should have not posted this, as it contains profanity and kids use Facbook now!';
				    a[i].appendChild(text_field);
				    //  break;

				}
          
			if(mydata['contentid']=='4381306830895910434' &&  person3==0)
                            {
				
				person3=1;
				var text_field=document.createElement("p");

				text_field.innerHTML='Anonymous Feedback:You had better not post it, because it has abusing words';
				a[i].appendChild(text_field);
				//  break;                                                                                                                                                              

			    }
			if(mydata['contentid']=='-7488669026813179263' &&  person4==0)
                            {

				person4=1;
				var text_field=document.createElement("p");

                                text_field.innerHTML='Anonymous Feedback:You had better not post it, because it has abusing words';
                                a[i].appendChild(text_field);
                                //  break;                                                                                                                                                                  

                            }

			if(mydata['contentid']=='5449671579498693702' &&  person5==0)
				{

				    person5=1;
				    var text_field=document.createElement("p");

				    text_field.innerHTML='Anonymous Feedback:You had better not post it, because it has abusing words';
				    a[i].appendChild(text_field);
				 
				}

		    }
		
		

	    },1000);
*/

//var a = document.getElementById("rate11");
//a.addEventListener("click", function(){
//       alert(1);
//   }, false);
//rating();
//updatePostContent();
//document.body,innerHTML=document.body.innerHTML+'<div id="rateMe" title="Rate Me...">';
//document.body,innerHTML=document.body.innerTML+'<a onclick="rateIt(this)"id="_1" title="ehh..." onmouseover="rating(this)" onmouseout="off(this)"></a>';
//document.body,innerHTML=document.body.innerHTML+'<a onclick="rateIt(this)" id="_2" title="Not Bad" onmouseover="rating(this)" onmouseout="off(this)"></a>';
//document.body,innerHTML=document.body.innerHTML+'<a onclick="rateIt(this)" id="_3" title="Pretty Good" onmouseover="rating(this)" onmouseout="off(this)"></a>';
//document.body,innerHTML=document.body.innerHTML+'</div>';
//document.body.innerHTML=document.body.innerHTML+'<style type="text/css">';
//document.body.innerHTML=document.body.innerHTML+'#rateStatus{float:left; clear:both; width:100%; height:20px;}';
//document.body.innerHTML=document.body.innerHTML+'#rateMe{float:left; clear:both; width:100%; height:auto; padding:0px; margin:0px;}';
//document.body.innerHTML=document.body.innerHTML+'#rateMe li{float:left;list-style:none;}';
//document.body.innerHTML=document.body.innerHTML+'#rateMe li a:hover,';
//document.body.innerHTML=document.body.innerHTML+'#rateMe .on{background:url(http://anonymous.comze.com/star_full.png) no-repeat;}';
//document.body.innerHTML=document.body.innerHTML+'#rateMe a{float:left;background:url(http://anonymous.comze.com/star_highlight.png) no-repeat;width:12px; height:12px;}';
//document.body.innerHTML=document.body.innerHTML+'#ratingSaved{display:none;}';
//document.body.innerHTML=document.body.innerHTML+'.saved{color:red; }</style>';


